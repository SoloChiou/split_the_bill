webpackJsonp([0],{"7F9Q":function(t,e){},Axg2:function(t,e){},CL2g:function(t,e){},EBMQ:function(t,e){},MV9g:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"logo"},[e("img",{style:{width:"80px",display:"block",margin:"0 auto"},attrs:{src:s("dpt4")}})]),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var n=s("VU/8")({name:"App"},a,!1,function(t){s("fMBT")},null,null).exports,r=s("/ocq"),i=s("mtWM"),l={name:"CreateGroup",data:function(){return{id:"",groupName:"",note:""}},methods:{createGroup:function(){var t=this;i.a.post("http://localhost:5000/group",{groupName:this.groupName,note:this.note}).then(function(e){console.log("Group data submitted:",e.data),t.$router.push({name:"AddUsers",params:{group_id:e.data.id,groupName:t.groupName,groupNote:t.note}})}).catch(function(t){console.log("Error submitting data",t)})}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-function"},[s("router-link",{staticClass:"router-link",attrs:{to:"/my_groups"}},[t._v(" 我的群組")]),t._v(" "),s("p",{staticClass:"router-link",style:{display:"inline-block"}},[t._v("|")]),t._v(" "),s("router-link",{staticClass:"router-link",attrs:{to:"/create_group"}},[t._v("建立群組")])],1),t._v(" "),s("h1",[t._v("建立群組")]),t._v(" "),s("div",{staticClass:"line"})]),t._v(" "),s("div",{staticClass:"container"},[s("p",{staticClass:"left-align"},[t._v("群組名稱")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupName,expression:"groupName"}],staticClass:"input",attrs:{placeholder:"必填*"},domProps:{value:t.groupName},on:{input:function(e){e.target.composing||(t.groupName=e.target.value)}}}),t._v(" "),s("p",{staticClass:"left-align"},[t._v("備註")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],staticClass:"input",style:{height:"100px"},attrs:{placeholder:"備註"},domProps:{value:t.note},on:{input:function(e){e.target.composing||(t.note=e.target.value)}}}),t._v(" "),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.createGroup}},[t._v("\n      下一步 : 新增成員\n    ")])])])},staticRenderFns:[]};var u=s("VU/8")(l,c,!1,function(t){s("UFFz")},"data-v-e4215016",null).exports,p={name:"MyGroups",props:["group_id"],data:function(){return{allGroups:[]}},mounted:function(){this.getAllGroups()},methods:{getAllGroups:function(){var t=this;i.a.get("http://localhost:5000/my_groups").then(function(e){t.allGroups=e.data,console.log("getAllGroups Data",t.allGroups)}).catch(function(t){console.log("getAllGroups Error",t)})},redirectToGroup:function(t){this.$router.push("/group/"+t)},deleteGroup:function(t){var e=this;i.a.delete("http://localhost:5000/my_groups/"+t).then(function(){e.allGroups=e.allGroups.filter(function(e){return e.id!==t})}).catch(function(t){return console.log("deleteGroup Error",t)})}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-function"},[s("router-link",{staticClass:"router-link",attrs:{to:"/my_groups"}},[t._v(" 我的群組")]),t._v(" "),s("p",{staticClass:"router-link",style:{display:"inline-block"}},[t._v("|")]),t._v(" "),s("router-link",{staticClass:"router-link",attrs:{to:"/create_group"}},[t._v("建立群組")])],1),t._v(" "),s("h1",[t._v("我的群組")]),t._v(" "),s("p",[t._v("群組列表")]),t._v(" "),s("div",{staticClass:"line"})]),t._v(" "),s("div",{staticClass:"container"},[s("ul",t._l(t.allGroups,function(e){return s("li",{key:e.id,staticClass:"list"},[s("div",{staticClass:"list-rows",on:{click:function(s){return t.redirectToGroup(e.id)}}},[s("button",{staticClass:"button delete-group",on:{click:function(s){return s.stopPropagation(),t.deleteGroup(e.id)}}},[t._v("\n            x\n          ")]),t._v("\n          "+t._s(e.name)+"\n        ")])])}),0),t._v(" "),s("div",{staticClass:"list-container"})])])},staticRenderFns:[]};var v=s("VU/8")(p,d,!1,function(t){s("EBMQ")},"data-v-7c169992",null).exports,m={name:"AddExpense",props:["group_id"],data:function(){return{localID:"",localItem:"",localAmount:"",localPayer:"",localSplitters:[],localGroupID:this.$route.params.group_id,users:[]}},mounted:function(){console.log("addExpense get groupID:",this.localGroupID),this.getGroupUsers(this.localGroupID)},methods:{getGroupUsers:function(){var t=this;i.a.get("http://localhost:5000/group/"+this.localGroupID+"/users").then(function(e){t.users=e.data}).catch(function(t){console.log("getGroupUsers Error",t)})},addExpense:function(){var t=this;console.log("addExpense Submitting data:",{item:this.localItem,amount:this.localAmount,payer:this.localPayer,splitters:this.localSplitters,group_id:this.localGroupID}),i.a.post("http://localhost:5000/group/"+this.localGroupID+"/add_expense",{item:this.localItem,amount:this.localAmount,payer:this.localPayer,splitters:this.localSplitters,group_id:this.localGroupID}).then(function(e){console.log("Expense submitted",e.data),t.redirectToGroup()}).catch(function(t){console.log("addExpense Error",t)})},redirectToGroup:function(){this.$router.push("/group/"+this.localGroupID)},goBack:function(){this.$router.go(-1)}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[t._m(0),t._v(" "),s("div",{staticClass:"container"},[s("p",{staticClass:"left-align"},[t._v("項目")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.localItem,expression:"localItem"}],staticClass:"input",domProps:{value:t.localItem},on:{input:function(e){e.target.composing||(t.localItem=e.target.value)}}}),t._v(" "),s("p",{staticClass:"left-align"},[t._v("金額")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.localAmount,expression:"localAmount"}],staticClass:"input",domProps:{value:t.localAmount},on:{input:function(e){e.target.composing||(t.localAmount=e.target.value)}}}),t._v(" "),s("p",{staticClass:"left-align"},[t._v("付款人")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.localPayer,expression:"localPayer"}],staticClass:"input",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.localPayer=e.target.multiple?s:s[0]}}},t._l(t.users,function(e){return s("option",{key:e.id,domProps:{value:e.name}},[t._v("\n        "+t._s(e.name)+"\n      ")])}),0),t._v(" "),s("p",{staticClass:"left-align"},[t._v("分款人")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.localSplitters,expression:"localSplitters"}],staticClass:"input",style:{height:"80px"},attrs:{multiple:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.localSplitters=e.target.multiple?s:s[0]}}},t._l(t.users,function(e){return s("option",{key:e.id,domProps:{value:e.name}},[t._v("\n        "+t._s(e.name)+"\n      ")])}),0),t._v(" "),s("div",{staticClass:"button-container"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.goBack}},[t._v("上一頁")]),t._v(" "),s("button",{staticClass:"button",attrs:{type:"submit"},on:{click:t.addExpense}},[t._v("\n        新增花費\n      ")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h1",[this._v("新增花費")]),this._v(" "),e("div",{staticClass:"line"})])}]};var h=s("VU/8")(m,_,!1,function(t){s("7F9Q")},"data-v-53aa4bf3",null).exports,g={name:"NewGroup",props:["group_id","groupName","groupNote"],data:function(){return{localGroupID:this.$route.params.group_id,localGroupName:this.$route.params.groupName,localGroupNote:this.$route.params.groupNote,expenses:[],users:[]}},mounted:function(){this.getGroup(this.localGroupID),this.getGroupExpenses(this.localGroupID),this.getGroupUsers(this.localGroupID),console.log("NewGroup get Group ID:",this.localGroupID)},methods:{getGroup:function(){var t=this;i.a.get("http://localhost:5000/group/"+this.localGroupID).then(function(e){console.log("Group data",e.data),t.localGroupName=e.data.groupName,t.localGroupNote=e.data.groupNote}).catch(function(t){console.log("getGroup Error",t)})},redirectToAddExpense:function(){this.$router.push({name:"AddExpense",params:{group_id:this.localGroupID}})},getGroupExpenses:function(){var t=this;i.a.get("http://localhost:5000/group/"+this.localGroupID+"/expenses").then(function(e){t.expenses=e.data,console.log("getGroupExpense Data:",t.expenses)}).catch(function(t){console.log("getGroupExpenses Error",t)})},settleTheBalance:function(){var t=this;i.a.post("http://localhost:5000/group/"+this.localGroupID+"/settle_the_balance").then(function(e){console.log("Settle Data:",e.data),t.redirectToSettle()}).catch(function(t){console.log("settleTheBalance Error",t)})},redirectToSettle:function(){this.$router.push({name:"SettleTheBalance",params:{group_id:this.localGroupID}})},getGroupUsers:function(){var t=this;i.a.get("http://localhost:5000/group/"+this.localGroupID+"/users").then(function(e){t.users=e.data,console.log("getGroupUsers:",t.users)}).catch(function(t){console.log("getGroupUsers Error",t)})},redirectToUsers:function(t){console.log("redirectToUsers Data:",t),this.$router.push({name:"UpdateUsers",params:{group_id:this.localGroupID,users:t}})},deleteExpense:function(t){var e=this;i.a.delete("http://localhost:5000/group/"+this.localGroupID+"/expenses/"+t).then(function(){e.expenses=e.expenses.filter(function(e){return e.id!==t})}).catch(function(t){console.log("deleteExpense Error")})},redirectToExpense:function(t,e,s,o,a){this.$router.push({name:"UpdateExpense",params:{group_id:this.localGroupID,expense_id:t,expenseItem:e,expenseAmount:s,expensePayerID:o,expensePayer:a}})}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-function"},[s("router-link",{staticClass:"router-link",attrs:{to:"/my_groups"}},[t._v(" 我的群組")]),t._v(" "),s("p",{staticClass:"router-link",style:{display:"inline-block"}},[t._v("|")]),t._v(" "),s("router-link",{staticClass:"router-link",attrs:{to:{name:"UpdateGroup",params:{group_id:this.localGroupID,groupName:this.localGroupName,groupNote:this.localGroupNote}}}},[t._v("編輯群組")])],1),t._v(" "),s("h1",[t._v(t._s(t.localGroupName))]),t._v(" "),s("div",{staticClass:"note-container"},[s("div",{staticClass:"note-colum"},[s("button",{staticClass:"button edit-users",attrs:{type:"button"},on:{click:function(e){return t.redirectToUsers(t.users)}}})]),t._v(" "),s("div",{staticClass:"note-colum"},[s("p",{staticClass:"note"},[t._v(t._s(t.localGroupNote))])]),t._v(" "),s("div",{staticClass:"note-colum"})]),t._v(" "),s("div",{staticClass:"line"})]),t._v(" "),s("div",{staticClass:"container"},[t.expenses.length?s("div",{staticClass:"list-container"},[s("h3",[t._v("花費列表")]),t._v(" "),s("ul",t._l(t.expenses,function(e){return s("li",{key:e.id,staticClass:"list"},[s("div",{staticClass:"list-rows",on:{click:function(s){return t.redirectToExpense(e.id,e.item,e.amount,e.payer_id,e.payer)}}},[s("button",{staticClass:"button delete-expense",on:{click:function(s){return s.stopPropagation(),t.deleteExpense(e.id)}}},[t._v("\n              x\n            ")]),t._v(" "),s("div",{staticClass:"list-row1"},[s("div",{staticClass:"list-item"},[t._v("\n                "+t._s(e.item)+"\n              ")]),t._v(" "),s("div",{staticClass:"list-item"},[t._v("$"+t._s(e.amount))])]),t._v(" "),s("div",{staticClass:"list-row2"},[s("div",{staticClass:"list-item"},[t._v(t._s(e.payer)+" 付款")]),t._v(" "),s("div",{staticClass:"list-item"},[t._v(t._s(e.splitter_count)+"人分")])])])])}),0)]):t._e(),t._v(" "),s("div",{staticClass:"button-container"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.redirectToAddExpense}},[t._v("\n        新增花費\n      ")]),t._v(" "),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.settleTheBalance}},[t._v("\n        分帳結餘\n      ")])])])])},staticRenderFns:[]};var C=s("VU/8")(g,f,!1,function(t){s("eBmm")},"data-v-9c08748e",null).exports,x={name:"SettleTheBalance",props:["group_id"],data:function(){return{localGroupID:this.$route.params.group_id,localExpenseID:this.$route.params.expense_id,summary:[]}},mounted:function(){this.getTheSettlement()},methods:{getTheSettlement:function(){var t=this;i.a.get("http://localhost:5000/group/"+this.localGroupID+"/settle_the_balance").then(function(e){t.summary=e.data.summary,console.log("getTheSettlement Data:",e.data)}).catch(function(t){console.log("getTheSettlement Error",t)})},goBack:function(){this.$router.go(-1)},reconcile:function(){this.$router.push({name:"Reconciliation",group_id:this.localGroupID})}}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-function"},[s("router-link",{staticClass:"router-link",attrs:{to:"/my_groups"}},[t._v(" 我的群組")])],1),t._v(" "),s("h1",[t._v("分帳結餘")]),t._v(" "),s("p",[t._v("分帳邏輯: 最大欠款者先付給最大應收者")]),t._v(" "),s("div",{staticClass:"line"})]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"list-container"},[s("ul",{staticClass:"ul"},t._l(t.summary,function(e){return s("li",{key:e.receiver_name,staticClass:"list"},[s("div",{staticClass:"list-rows"},[s("div",{staticClass:"list-row1"},[s("div",{staticClass:"list-item",attrs:{id:"receiver"}},[t._v("\n                "+t._s(e.receiver_name)+"\n              ")]),t._v(" "),s("div",{staticClass:"list-item"},[t._v("應收")])]),t._v(" "),t._l(e.debtors,function(e){return s("div",{key:e.debtor_id,staticClass:"list-row2"},[s("div",{staticClass:"list-item",attrs:{id:"debtor"}},[t._v("\n                "+t._s(e.debtor_name)+"\n              ")]),t._v(" "),s("div",{staticClass:"list-item",attrs:{id:"debtor-amount"}},[t._v("\n                $"+t._s(e.amount)+"\n              ")])])}),t._v(" "),s("div",{staticClass:"list-row3"},[s("div",{staticClass:"list-item",attrs:{id:"total_receivable"}},[t._v("\n                總計 $"+t._s(e.total_receivable)+"\n              ")])])],2)])}),0)]),t._v(" "),s("div",{staticClass:"button-container"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.goBack}},[t._v("上一頁")]),t._v(" "),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.reconcile}},[t._v("驗算")])])])])},staticRenderFns:[]};var y=s("VU/8")(x,G,!1,function(t){s("Axg2")},"data-v-0c9c340e",null).exports,b={name:"AddUsers",props:["group_id","groupName","groupNote"],data:function(){return{users:[{name:""}],localGroupID:this.$route.params.group_id,localGroupName:this.$route.params.groupName,localGroupNote:this.$route.params.groupNote}},mounted:function(){console.log("AddUsers get localGroupID:",this.localGroupID),console.log("AddUsers get localGroupName:",this.localGroupName),console.log("AddUsers get localGroupNote:",this.localGroupNote)},methods:{addUserColumn:function(){this.users.push({name:""})},addUsers:function(){var t=this;console.log("Saving users:",this.users),this.users.forEach(function(e){i.a.post("http://localhost:5000/group/"+t.localGroupID+"/add_users",{name:e.name,group_id:t.localGroupID}).then(function(t){console.log("User added:",t.data)}).catch(function(t){console.log("Error adding user",t)})}),this.$router.push({name:"NewGroup",params:{group_id:this.localGroupID,groupName:this.localGroupName,groupNote:this.localGroupNote}})}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-function"},[s("div",{staticClass:"header-function"},[s("router-link",{staticClass:"router-link",attrs:{to:"/my_groups"}},[t._v("\n          我的群組")]),t._v(" "),s("p",{staticClass:"router-link",style:{display:"inline-block"}},[t._v("|")]),t._v(" "),s("router-link",{staticClass:"router-link",attrs:{to:"/create_group"}},[t._v("建立群組")])],1)]),t._v(" "),s("h1",[t._v("新增成員")]),t._v(" "),s("div",{staticClass:"line"})]),t._v(" "),s("div",{staticClass:"container"},[t._l(t.users,function(e,o){return s("div",{key:o},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"user.name"}],staticClass:"input",attrs:{placeholder:"成員名稱"},domProps:{value:e.name},on:{input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}})])}),t._v(" "),s("br"),t._v(" "),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.addUserColumn}},[t._v("\n      新增成員\n    ")]),t._v(" "),s("div",[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.addUsers}},[t._v("儲存")])])],2)])},staticRenderFns:[]};var k=s("VU/8")(b,E,!1,function(t){s("S4aM")},"data-v-448d0a5c",null).exports,N={name:"Reconciliation",props:["group_id"],data:function(){return{localGroupID:this.$route.params.group_id,expensesByUser:{},totalExpensesByUser:{},items:[],settlementSteps:[]}},mounted:function(){this.reconciliation(),this.getSettlementSteps()},methods:{reconciliation:function(){var t=this;i.a.get("http://localhost:5000/group/"+this.localGroupID+"/expenses/settle_the_balance/reconciliation").then(function(e){t.expensesByUser=e.data.expenses_by_user,t.totalExpensesByUser=e.data.total_expenses_by_user,t.items=e.data.items,console.log("reconciliation Data(expensesByUser):",t.expensesByUser),console.log("reconciliation Data:(totalExpensesByUser)",t.totalExpensesByUser),console.log("reconciliation Data:(items)",t.items)}).catch(function(t){console.log("reconciliation Error",t)})},goBack:function(){this.$router.go(-1)},getSettlementSteps:function(){var t=this;i.a.get("http://localhost:5000/group/"+this.localGroupID+"/settle_the_balance").then(function(e){t.settlementSteps=e.data.settlement_steps,console.log("settlementSteps:",t.settlementSteps)})}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-function"},[s("router-link",{staticClass:"router-link",attrs:{to:"/my_groups"}},[t._v(" 我的群組")])],1),t._v(" "),s("h1",[t._v("驗算")]),t._v(" "),s("p",[t._v("對分帳有疑慮嗎? 這邊驗算給你看!")]),t._v(" "),s("div",{staticClass:"line"})]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"steps"},[s("div",{staticClass:"step-container"},[s("h3",[t._v("1. 每人債務統計表")]),t._v(" "),s("div",[s("table",{staticClass:"expense-table"},[s("thead",[s("tr",[s("th",{staticClass:"item-header"},[t._v("項目\\成員")]),t._v(" "),t._l(t.expensesByUser,function(e,o){return s("th",{key:o},[t._v("\n                  "+t._s(o)+"\n                ")])})],2)]),t._v(" "),s("tbody",[t._l(t.items,function(e){return s("tr",{key:e.expense_id},[s("td",{staticClass:"item-header"},[t._v("\n                  "+t._s(e.expense_item)+"\n                ")]),t._v(" "),t._l(t.expensesByUser,function(o,a){return s("td",{key:a,staticClass:"amount"},t._l(o,function(o){return s("div",{key:o.expense_id,staticClass:"amount-per-user"},[o.expense_id===e.expense_id?s("span",[t._v(t._s(o.expense))]):t._e()])}),0)})],2)}),t._v(" "),s("tr",[s("td",{staticClass:"item-header total"},[t._v("總計")]),t._v(" "),t._l(t.totalExpensesByUser,function(e,o){return s("td",{key:o,staticClass:"total-per-user"},[t._v("\n                  "+t._s(e)+"\n                ")])})],2)],2)])])]),t._v(" "),s("div",{staticClass:"step-container"},[s("h3",[t._v("2. 清算")]),t._v(" "),s("p",{staticClass:"step2-content"},[t._v("最大欠款者先付給最大應收者, 依此類推")]),t._v(" "),s("ul",[s("ol",{attrs:{type:"1"}},t._l(t.settlementSteps,function(e){return s("li",{key:e.receiver_id+" - "+e.debtor_id,staticClass:"list"},[t._v("\n              "+t._s(e.receiver_name)+" 跟 "+t._s(e.debtor_name)+" 收 $"+t._s(e.amount)+"\n            ")])}),0)])]),t._v(" "),s("div",{staticClass:"button-container"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.goBack}},[t._v("上一頁")])])])])])},staticRenderFns:[]};var I=s("VU/8")(N,U,!1,function(t){s("fb01")},"data-v-77f18ab4",null).exports,D={name:"UpdateExpense",props:["group_id","expense_id","expenseItem","expenseAmount","expensePayerID","expensePayer"],data:function(){return{localGroupID:this.$route.params.group_id,localExpenseID:this.$route.params.expense_id,localExpenseItem:this.$route.params.expenseItem,localExpenseAmount:this.$route.params.expenseAmount,localPayerID:this.$route.params.expensePayerID,localExpensePayer:this.$route.params.expensePayer,localSplitters:[],users:[]}},mounted:function(){this.getGroupUsers(this.localGroupID),this.getLocalSplitters(this.localExpenseID)},methods:{getGroupUsers:function(){var t=this;i.a.get("http://localhost:5000/group/"+this.localGroupID+"/users").then(function(e){t.users=e.data,console.log("gerGroupUsers",t.users)}).catch(function(t){console.log("getGroupUsers Error",t)})},getLocalSplitters:function(){var t=this;i.a.get("http://localhost:5000/expenses/"+this.localExpenseID+"/splitters").then(function(e){t.localSplitters=e.data,console.log("getLocalSplitters Data:",t.localSplitters)})},goBack:function(){this.$router.go(-1)},updateExpense:function(){var t=this,e={item:this.localExpenseItem,amount:this.localExpenseAmount,payer_id:this.localPayerID,payer:this.localExpensePayer,splitters:this.localSplitters};console.log("Payload: ",e),i.a.put("http://localhost:5000/expenses/"+this.localExpenseID+"/update_expense",e).then(function(e){console.log("updateExpense Data: ",e.data),t.$router.push({name:"NewGroup"})})}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[t._m(0),t._v(" "),s("div",{staticClass:"container"},[s("p",{staticClass:"left-align"},[t._v("項目")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.localExpenseItem,expression:"localExpenseItem"}],staticClass:"input",domProps:{value:t.localExpenseItem},on:{input:function(e){e.target.composing||(t.localExpenseItem=e.target.value)}}}),t._v(" "),s("p",{staticClass:"left-align"},[t._v("金額")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.localExpenseAmount,expression:"localExpenseAmount"}],staticClass:"input",domProps:{value:t.localExpenseAmount},on:{input:function(e){e.target.composing||(t.localExpenseAmount=e.target.value)}}}),t._v(" "),s("p",{staticClass:"left-align"},[t._v("付款人")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.localExpensePayer,expression:"localExpensePayer"}],staticClass:"input",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.localExpensePayer=e.target.multiple?s:s[0]}}},t._l(t.users,function(e){return s("option",{key:e.id,domProps:{value:e.name}},[t._v("\n        "+t._s(e.name)+"\n      ")])}),0),t._v(" "),s("p",{staticClass:"left-align"},[t._v("分款人")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.localSplitters,expression:"localSplitters"}],staticClass:"input",style:{height:"100px"},attrs:{multiple:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.localSplitters=e.target.multiple?s:s[0]}}},t._l(t.users,function(e){return s("option",{key:e.id,domProps:{value:e.name}},[t._v("\n        "+t._s(e.name)+"\n      ")])}),0),t._v(" "),s("div",{staticClass:"button-container"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.goBack}},[t._v("上一頁")]),t._v(" "),s("button",{staticClass:"button",attrs:{type:"submit"},on:{click:t.updateExpense}},[t._v("\n        更新花費\n      ")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h1",[this._v("編輯花費")]),this._v(" "),e("div",{staticClass:"line"})])}]};var w=s("VU/8")(D,$,!1,function(t){s("MV9g")},"data-v-b03dbc88",null).exports,A={name:"UpdateUsers",props:["users"],data:function(){return{localGroupID:this.$route.params.group_id,localUsers:this.$route.params.users||"[]"}},mounted:function(){console.log("Local Users:",this.localUsers)},methods:{addUserColumn:function(){this.localUsers.push({name:""})},deleteUser:function(t){var e=this;i.a.delete("http://localhost:5000/group/"+this.localGroupID+"/"+t).then(function(){e.localUsers=e.localUsers.filter(function(e){return e.id!==t})}).catch(function(t){console.log("deleteUser Error",t)})},updateUsers:function(){var t=this,e={users:this.localUsers};console.log("Payload: ",e),i.a.put("http://localhost:5000/group/"+this.localGroupID+"/update_users",e).then(function(s){console.log("Payload:",e),t.$router.push("/group/"+t.localGroupID)}).catch(function(t){console.log("updateUsers Error",t)})},goBack:function(){this.$router.go(-1)}}},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[t._m(0),t._v(" "),s("div",{staticClass:"container"},[t._l(t.localUsers,function(e,o){return s("div",{key:o,staticClass:"input-rows"},[s("button",{staticClass:"button delete-user",on:{click:function(s){return t.deleteUser(e.id)}}},[t._v("\n        x\n      ")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"user.name"}],staticClass:"input",attrs:{placeholder:"成員名稱"},domProps:{value:e.name},on:{input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}})])}),t._v(" "),s("div",[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.addUserColumn}},[t._v("\n        新增成員\n      ")])]),t._v(" "),s("div",{staticClass:"button-container"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.goBack}},[t._v("上一頁")]),t._v(" "),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.updateUsers}},[t._v("\n        儲存更新\n      ")])])],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h1",[this._v("編輯成員")]),this._v(" "),e("p",[this._v("有帳款成員不可刪除")]),this._v(" "),e("div",{staticClass:"line"})])}]};var S=s("VU/8")(A,P,!1,function(t){s("CL2g")},"data-v-3f367650",null).exports,B={name:"UpdateGroup",props:["group_id","groupName","groupNote"],data:function(){return{localGroupID:this.$route.params.group_id,localGroupName:this.$route.params.groupName,localGroupNote:this.$route.params.groupNote}},mounted:function(){console.log("UpdateGroup Data",this.localGroupID,this.localGroupName,this.localGroupNote)},methods:{updateGroup:function(){var t=this,e={id:this.localGroupID,name:this.localGroupName,note:this.localGroupNote};i.a.put("http://localhost:5000/group/"+this.localGroupID+"/update_group",e).then(function(e){console.log("updateGroup Data",e.data),t.$router.push("/group/"+t.localGroupID)})},goBack:function(){this.$router.go(-1)}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-function"},[s("router-link",{staticClass:"router-link",attrs:{to:"/my_groups"}},[t._v(" 我的群組")])],1),t._v(" "),s("h1",[t._v("編輯群組")]),t._v(" "),s("div",{staticClass:"line"})]),t._v(" "),s("div",{staticClass:"container"},[s("p",{staticClass:"left-align"},[t._v("群組名稱")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.localGroupName,expression:"localGroupName"}],staticClass:"input",attrs:{placeholder:"必填*"},domProps:{value:t.localGroupName},on:{input:function(e){e.target.composing||(t.localGroupName=e.target.value)}}}),t._v(" "),s("p",{staticClass:"left-align"},[t._v("備註")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.localGroupNote,expression:"localGroupNote"}],staticClass:"input",style:{height:"100px"},attrs:{placeholder:"備註"},domProps:{value:t.localGroupNote},on:{input:function(e){e.target.composing||(t.localGroupNote=e.target.value)}}}),t._v(" "),s("div",{staticClass:"button-container"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.goBack}},[t._v("上一頁")]),t._v(" "),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.updateGroup}},[t._v("儲存")])])])])},staticRenderFns:[]};var F=s("VU/8")(B,T,!1,function(t){s("SPrz")},"data-v-6f021b0f",null).exports;o.a.use(r.a);var R=new r.a({mode:"history",routes:[{path:"/create_group",name:"CreateGroup",component:u},{path:"/group/:group_id/add_users",name:"AddUsers",component:k},{path:"/my_groups",name:"MyGroups",component:v},{path:"/group/:group_id",name:"NewGroup",component:C},{path:"/group/:group_id/add_expense",name:"AddExpense",component:h},{path:"/group/:group_id/settle_the_balance",name:"SettleTheBalance",component:y},{path:"/group/:group_id/expenses/settle_the_balance/reconciliation",name:"Reconciliation",component:I},{path:"/group/:group_id/expenses/:expense_id",name:"UpdateExpense",component:w},{path:"/group/:group_id/update_users",name:"UpdateUsers",component:S},{path:"/group/:group_id/update_group",name:"UpdateGroup",component:F}]});s("zrzA");o.a.config.productionTip=!1,new o.a({el:"#app",router:R,components:{App:n},template:"<App/>"})},S4aM:function(t,e){},SPrz:function(t,e){},UFFz:function(t,e){},dpt4:function(t,e,s){t.exports=s.p+"static/img/photo_ID.8c511a4.png"},eBmm:function(t,e){},fMBT:function(t,e){},fb01:function(t,e){},zrzA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cd0ef996ee416007c9c5.js.map